<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://ai4energy.cn/docs/03CSAdv/2-%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1.html"><meta property="og:site_name" content="Ai4Energy"><meta property="og:title" content="数据抽象"><meta property="og:description" content="数据抽象的概念 数据抽象是编程中非常重要的概念之一。它允许我们将复杂的数据结构和操作封装成高层次的抽象，使得程序的设计更加模块化、可维护和可扩展。通过数据抽象，我们可以隐藏数据的内部表示和实现细节，只向外部提供必要的接口和操作。 在编程中，数据抽象的核心思想是将数据和对数据的操作分离开来。这意味着我们可以定义一个数据类型（类或结构体），并为其定义一组相..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-10-05T10:59:45.000Z"><meta property="article:author" content="Ai4Energy"><meta property="article:modified_time" content="2023-10-05T10:59:45.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"数据抽象","image":[""],"dateModified":"2023-10-05T10:59:45.000Z","author":[{"@type":"Person","name":"Ai4Energy","url":"https://ai4energy.cn"}]}</script><title>数据抽象 | Ai4Energy</title><meta name="description" content="数据抽象的概念 数据抽象是编程中非常重要的概念之一。它允许我们将复杂的数据结构和操作封装成高层次的抽象，使得程序的设计更加模块化、可维护和可扩展。通过数据抽象，我们可以隐藏数据的内部表示和实现细节，只向外部提供必要的接口和操作。 在编程中，数据抽象的核心思想是将数据和对数据的操作分离开来。这意味着我们可以定义一个数据类型（类或结构体），并为其定义一组相...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-21749147.css" as="style"><link rel="stylesheet" href="/assets/style-21749147.css">
    <link rel="modulepreload" href="/assets/app-92b2d6d2.js"><link rel="modulepreload" href="/assets/2-数据抽象.html-7e24116f.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/2-数据抽象.html-4d31b7f3.js"><link rel="prefetch" href="/assets/index.html-3c8a4142.js" as="script"><link rel="prefetch" href="/assets/contactus.html-d33e0a04.js" as="script"><link rel="prefetch" href="/assets/slides.html-95e43cb0.js" as="script"><link rel="prefetch" href="/assets/index.html-3099cfbb.js" as="script"><link rel="prefetch" href="/assets/disable.html-a6e9b30b.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-2ea5bac1.js" as="script"><link rel="prefetch" href="/assets/markdown.html-a505b667.js" as="script"><link rel="prefetch" href="/assets/page.html-98455d2d.js" as="script"><link rel="prefetch" href="/assets/index.html-dc6517e4.js" as="script"><link rel="prefetch" href="/assets/index.html-a1579ade.js" as="script"><link rel="prefetch" href="/assets/slides.html-771cb2b9.js" as="script"><link rel="prefetch" href="/assets/index.html-444a197e.js" as="script"><link rel="prefetch" href="/assets/index.html-5760da4b.js" as="script"><link rel="prefetch" href="/assets/test.html-7fe25efb.js" as="script"><link rel="prefetch" href="/assets/01-docker-compose环境准备.html-c092d14d.js" as="script"><link rel="prefetch" href="/assets/02-emqx消息服务器准备.html-3f09a4eb.js" as="script"><link rel="prefetch" href="/assets/03-mysql数据库准备.html-720eb169.js" as="script"><link rel="prefetch" href="/assets/04-go-zero环境准备.html-1ade1f8c.js" as="script"><link rel="prefetch" href="/assets/05-gateway设置.html-56cbbae7.js" as="script"><link rel="prefetch" href="/assets/06-goctl生成api服务.html-379995cc.js" as="script"><link rel="prefetch" href="/assets/07-goctl处理数据库模型.html-1f99f703.js" as="script"><link rel="prefetch" href="/assets/1-SAM.html-08fa9652.js" as="script"><link rel="prefetch" href="/assets/10-PLANHEAT Tool.html-e2524c1a.js" as="script"><link rel="prefetch" href="/assets/11-Modelica Buildings library.html-5c0006d4.js" as="script"><link rel="prefetch" href="/assets/12-IDEAS.html-d0b22e0a.js" as="script"><link rel="prefetch" href="/assets/13-OpenMDAO.html-a66e6ba2.js" as="script"><link rel="prefetch" href="/assets/2-ReOpt.html-38b03393.js" as="script"><link rel="prefetch" href="/assets/3-pvlib-python.html-4b9ab185.js" as="script"><link rel="prefetch" href="/assets/4-SolarPILOT.html-bd5f7fde.js" as="script"><link rel="prefetch" href="/assets/5-SolarTherm.html-c40efd1f.js" as="script"><link rel="prefetch" href="/assets/6-SolTrace.html-b23b11d7.js" as="script"><link rel="prefetch" href="/assets/7-OpenFAST.html-313cea4b.js" as="script"><link rel="prefetch" href="/assets/8-OpenLCA.html-4852c7a9.js" as="script"><link rel="prefetch" href="/assets/9-FOQUS.html-cd61fa11.js" as="script"><link rel="prefetch" href="/assets/coolprop-intro.html-e28f8677.js" as="script"><link rel="prefetch" href="/assets/index.html-3dbbffc9.js" as="script"><link rel="prefetch" href="/assets/sam-ssc.html-18a0fbf6.js" as="script"><link rel="prefetch" href="/assets/1-Windows命令提示符介绍.html-db8c8de3.js" as="script"><link rel="prefetch" href="/assets/2-PowerShell和WindowsTerminal.html-c8aa8bdf.js" as="script"><link rel="prefetch" href="/assets/3-环境变量及其设置.html-5f4b49b2.js" as="script"><link rel="prefetch" href="/assets/4-Windows下安装gcc编译器和CLion.html-70d4dce0.js" as="script"><link rel="prefetch" href="/assets/5-make和Makefile介绍.html-18c70adc.js" as="script"><link rel="prefetch" href="/assets/6-静态链接库和动态链接库.html-db183e33.js" as="script"><link rel="prefetch" href="/assets/7-以SAM为例整体实操一下.html-30d72f60.js" as="script"><link rel="prefetch" href="/assets/8-以CoolProp为例的实操.html-673c5db1.js" as="script"><link rel="prefetch" href="/assets/9-dll生成与调用实操.html-67762d65.js" as="script"><link rel="prefetch" href="/assets/0010-julia的安装.html-0db0f93f.js" as="script"><link rel="prefetch" href="/assets/0020-julia的REPL.html-32a3192b.js" as="script"><link rel="prefetch" href="/assets/0030-julia的语法要点.html-038d467c.js" as="script"><link rel="prefetch" href="/assets/0040-julia的包管理.html-ab783df2.js" as="script"><link rel="prefetch" href="/assets/0050-julia的环境.html-bdcf2d4d.js" as="script"><link rel="prefetch" href="/assets/0060-创建julia包.html-1465c684.js" as="script"><link rel="prefetch" href="/assets/0070-julia的类型系统.html-418f564c.js" as="script"><link rel="prefetch" href="/assets/0090-julia代码编译成app.html-ea7364c6.js" as="script"><link rel="prefetch" href="/assets/0091-julia编译成library.html-669a178c.js" as="script"><link rel="prefetch" href="/assets/0092-julia编译自定义系统镜像.html-9930507e.js" as="script"><link rel="prefetch" href="/assets/0110-julia的元编程.html-17e71420.js" as="script"><link rel="prefetch" href="/assets/0120- julia-binary-wrappers.html-4bee56e2.js" as="script"><link rel="prefetch" href="/assets/0130-ijulia.html-a7fd4450.js" as="script"><link rel="prefetch" href="/assets/1001-julia的http服务.html-2755efd9.js" as="script"><link rel="prefetch" href="/assets/1002-julia与grpc.html-350d8423.js" as="script"><link rel="prefetch" href="/assets/1003-julia的前后端分离.html-7809ddb7.js" as="script"><link rel="prefetch" href="/assets/1-过程抽象.html-3dc8dc65.js" as="script"><link rel="prefetch" href="/assets/3-再说说递归.html-816a0c4f.js" as="script"><link rel="prefetch" href="/assets/4-从符号到模型.html-d322a9da.js" as="script"><link rel="prefetch" href="/assets/5-抽象语法树.html-cfae6b21.js" as="script"><link rel="prefetch" href="/assets/6-代码生成.html-13609aab.js" as="script"><link rel="prefetch" href="/assets/7-领域特定语言.html-641085c2.js" as="script"><link rel="prefetch" href="/assets/8-写个库还是创个语言.html-ff22d5fc.js" as="script"><link rel="prefetch" href="/assets/9-Ascend等解构.html-5121e3ea.js" as="script"><link rel="prefetch" href="/assets/91-OpenFoam解构.html-32d529ef.js" as="script"><link rel="prefetch" href="/assets/DE_intro.html-b2f11cf1.js" as="script"><link rel="prefetch" href="/assets/MTK_intro.html-84548a90.js" as="script"><link rel="prefetch" href="/assets/MTK_register.html-bc624f1c.js" as="script"><link rel="prefetch" href="/assets/MTK_tips.html-27a59041.js" as="script"><link rel="prefetch" href="/assets/ModelingTutorial.html-4da7746f.js" as="script"><link rel="prefetch" href="/assets/WathMTKdo.html-6f89ef4c.js" as="script"><link rel="prefetch" href="/assets/benchmark_de_mtk.html-9250dda3.js" as="script"><link rel="prefetch" href="/assets/1-微分代数方程.html-13c4d06a.js" as="script"><link rel="prefetch" href="/assets/DE_heattran.html-83cab43b.js" as="script"><link rel="prefetch" href="/assets/MTK_Sundials.html-6f351ef4.js" as="script"><link rel="prefetch" href="/assets/MTK_heattran.html-0cf8d2f1.js" as="script"><link rel="prefetch" href="/assets/MTK_parallel_computing.html-cfe3e0ed.js" as="script"><link rel="prefetch" href="/assets/componementModel.html-17b8a923.js" as="script"><link rel="prefetch" href="/assets/steadyRC.html-643aada7.js" as="script"><link rel="prefetch" href="/assets/1-优化的概念.html-9879a73d.js" as="script"><link rel="prefetch" href="/assets/2-优化问题的分类.html-c365bf71.js" as="script"><link rel="prefetch" href="/assets/3-能源系统工程中的优化问题.html-f203119e.js" as="script"><link rel="prefetch" href="/assets/4-优化问题的求解过程.html-69c398c1.js" as="script"><link rel="prefetch" href="/assets/5-优化问题的建模平台.html-7229389e.js" as="script"><link rel="prefetch" href="/assets/6-传统决定性算法简介.html-1bee53fe.js" as="script"><link rel="prefetch" href="/assets/7-启发式算法简介.html-8fcef70b.js" as="script"><link rel="prefetch" href="/assets/8-黑箱优化问题.html-0f3d6954.js" as="script"><link rel="prefetch" href="/assets/9-优化问题建模之递归建模方法.html-b1877c30.js" as="script"><link rel="prefetch" href="/assets/90-优化应用之参数估计与软测量.html-d27ef8e2.js" as="script"><link rel="prefetch" href="/assets/91-优化应用之代理模型.html-c48aae15.js" as="script"><link rel="prefetch" href="/assets/92-一些可以看一看的优化相关工具.html-911dd35c.js" as="script"><link rel="prefetch" href="/assets/93-JuMP混合整数线性优化实例.html-d80df870.js" as="script"><link rel="prefetch" href="/assets/94-JuMP参数辨识.html-90211eb4.js" as="script"><link rel="prefetch" href="/assets/95-微分方程参数辨识实例.html-719c3402.js" as="script"><link rel="prefetch" href="/assets/96-MTK非线性参数辨识实例.html-cf97f8bb.js" as="script"><link rel="prefetch" href="/assets/97-MTK符号系统参数辨识实例.html-b92a5f5b.js" as="script"><link rel="prefetch" href="/assets/98-MTK部分参数辨识实例.html-0daf34a0.js" as="script"><link rel="prefetch" href="/assets/GenSBO.html-a0424a12.js" as="script"><link rel="prefetch" href="/assets/MIDACO.html-ddd2a52b.js" as="script"><link rel="prefetch" href="/assets/Optimization.jl.html-73abdfac.js" as="script"><link rel="prefetch" href="/assets/1-控制的本质.html-a87dc709.js" as="script"><link rel="prefetch" href="/assets/JuMPMPC.html-d1886f9f.js" as="script"><link rel="prefetch" href="/assets/KalmanFiltering.html-316be484.js" as="script"><link rel="prefetch" href="/assets/MTKMPC.html-510ff046.js" as="script"><link rel="prefetch" href="/assets/OptimControl.html-cd349c37.js" as="script"><link rel="prefetch" href="/assets/1-机器学习和人工智能.html-e620e592.js" as="script"><link rel="prefetch" href="/assets/1-能源管理信息系统.html-24e0b06c.js" as="script"><link rel="prefetch" href="/assets/1-物联网.html-c6213f30.js" as="script"><link rel="prefetch" href="/assets/2-消息件.html-00a12b66.js" as="script"><link rel="prefetch" href="/assets/3-大数据简介.html-4e200f7f.js" as="script"><link rel="prefetch" href="/assets/4-从虚拟机到云计算.html-8e6040a5.js" as="script"><link rel="prefetch" href="/assets/5-容器化和k8s.html-1f713b6b.js" as="script"><link rel="prefetch" href="/assets/01-golang的安装.html-f4e2d472.js" as="script"><link rel="prefetch" href="/assets/02-golang的特点.html-645f3c1b.js" as="script"><link rel="prefetch" href="/assets/3-ssh-git实操.html-98f2fed0.js" as="script"><link rel="prefetch" href="/assets/CSV_jl_use.html-a6ff50b6.js" as="script"><link rel="prefetch" href="/assets/CoolProp.html-5bd8ec75.js" as="script"><link rel="prefetch" href="/assets/vscode_git.html-4b987a91.js" as="script"><link rel="prefetch" href="/assets/1-thinkaboutstudy.html-f604ab95.js" as="script"><link rel="prefetch" href="/assets/DocStructure.html-f96e30d9.js" as="script"><link rel="prefetch" href="/assets/REPL-of-Julia.html-a09a73bc.js" as="script"><link rel="prefetch" href="/assets/gitworkflow.html-3f563727.js" as="script"><link rel="prefetch" href="/assets/julia_change_pkgserve.html-1c2551b1.js" as="script"><link rel="prefetch" href="/assets/julia的安装.html-24a8db6a.js" as="script"><link rel="prefetch" href="/assets/vscodePlugin.html-ed248567.js" as="script"><link rel="prefetch" href="/assets/index.html-711dd098.js" as="script"><link rel="prefetch" href="/assets/disable.html-9565c887.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-b1c32fa0.js" as="script"><link rel="prefetch" href="/assets/markdown.html-14aa999b.js" as="script"><link rel="prefetch" href="/assets/page.html-cf9dc2de.js" as="script"><link rel="prefetch" href="/assets/index.html-36f0f5ca.js" as="script"><link rel="prefetch" href="/assets/index.html-74faf88e.js" as="script"><link rel="prefetch" href="/assets/baz.html-91ce74c1.js" as="script"><link rel="prefetch" href="/assets/index.html-a116fee1.js" as="script"><link rel="prefetch" href="/assets/ray.html-32a2fde3.js" as="script"><link rel="prefetch" href="/assets/index.html-e4768440.js" as="script"><link rel="prefetch" href="/assets/baz.html-86ba426b.js" as="script"><link rel="prefetch" href="/assets/index.html-4317bd31.js" as="script"><link rel="prefetch" href="/assets/ray.html-4095d93d.js" as="script"><link rel="prefetch" href="/assets/404.html-ed927696.js" as="script"><link rel="prefetch" href="/assets/index.html-b5f3c5c1.js" as="script"><link rel="prefetch" href="/assets/index.html-07cdd39b.js" as="script"><link rel="prefetch" href="/assets/index.html-1b46742f.js" as="script"><link rel="prefetch" href="/assets/index.html-bce05ef5.js" as="script"><link rel="prefetch" href="/assets/index.html-6efe3f52.js" as="script"><link rel="prefetch" href="/assets/index.html-166a8267.js" as="script"><link rel="prefetch" href="/assets/index.html-6ac958fa.js" as="script"><link rel="prefetch" href="/assets/index.html-05409ea6.js" as="script"><link rel="prefetch" href="/assets/index.html-75427b01.js" as="script"><link rel="prefetch" href="/assets/index.html-24252416.js" as="script"><link rel="prefetch" href="/assets/index.html-81a07731.js" as="script"><link rel="prefetch" href="/assets/index.html-7cc5cd66.js" as="script"><link rel="prefetch" href="/assets/index.html-2cb197b1.js" as="script"><link rel="prefetch" href="/assets/index.html-6e50348c.js" as="script"><link rel="prefetch" href="/assets/index.html-40a9be70.js" as="script"><link rel="prefetch" href="/assets/index.html-f6c046af.js" as="script"><link rel="prefetch" href="/assets/contactus.html-8347170c.js" as="script"><link rel="prefetch" href="/assets/slides.html-50885f88.js" as="script"><link rel="prefetch" href="/assets/index.html-4114b261.js" as="script"><link rel="prefetch" href="/assets/disable.html-7b2aab4f.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-a929c4d1.js" as="script"><link rel="prefetch" href="/assets/markdown.html-2a71f27f.js" as="script"><link rel="prefetch" href="/assets/page.html-e307f611.js" as="script"><link rel="prefetch" href="/assets/index.html-3ea57e85.js" as="script"><link rel="prefetch" href="/assets/index.html-a6a4df1d.js" as="script"><link rel="prefetch" href="/assets/slides.html-ba7078bb.js" as="script"><link rel="prefetch" href="/assets/index.html-8552f6ed.js" as="script"><link rel="prefetch" href="/assets/index.html-40b7061d.js" as="script"><link rel="prefetch" href="/assets/test.html-9d511a4b.js" as="script"><link rel="prefetch" href="/assets/01-docker-compose环境准备.html-54bc5735.js" as="script"><link rel="prefetch" href="/assets/02-emqx消息服务器准备.html-08a7c8f5.js" as="script"><link rel="prefetch" href="/assets/03-mysql数据库准备.html-95bb4ff3.js" as="script"><link rel="prefetch" href="/assets/04-go-zero环境准备.html-47d9d4cf.js" as="script"><link rel="prefetch" href="/assets/05-gateway设置.html-450219b6.js" as="script"><link rel="prefetch" href="/assets/06-goctl生成api服务.html-2c39138e.js" as="script"><link rel="prefetch" href="/assets/07-goctl处理数据库模型.html-b9ab9769.js" as="script"><link rel="prefetch" href="/assets/1-SAM.html-d770d1d9.js" as="script"><link rel="prefetch" href="/assets/10-PLANHEAT Tool.html-a8dbf822.js" as="script"><link rel="prefetch" href="/assets/11-Modelica Buildings library.html-be48e4d3.js" as="script"><link rel="prefetch" href="/assets/12-IDEAS.html-c5fe18da.js" as="script"><link rel="prefetch" href="/assets/13-OpenMDAO.html-77342bc6.js" as="script"><link rel="prefetch" href="/assets/2-ReOpt.html-7561f2b9.js" as="script"><link rel="prefetch" href="/assets/3-pvlib-python.html-51f4bcf9.js" as="script"><link rel="prefetch" href="/assets/4-SolarPILOT.html-35784fa8.js" as="script"><link rel="prefetch" href="/assets/5-SolarTherm.html-acfcaa6a.js" as="script"><link rel="prefetch" href="/assets/6-SolTrace.html-979b6bec.js" as="script"><link rel="prefetch" href="/assets/7-OpenFAST.html-1bf15546.js" as="script"><link rel="prefetch" href="/assets/8-OpenLCA.html-01f47870.js" as="script"><link rel="prefetch" href="/assets/9-FOQUS.html-054073b8.js" as="script"><link rel="prefetch" href="/assets/coolprop-intro.html-a14c336a.js" as="script"><link rel="prefetch" href="/assets/index.html-04104e61.js" as="script"><link rel="prefetch" href="/assets/sam-ssc.html-f8d26825.js" as="script"><link rel="prefetch" href="/assets/1-Windows命令提示符介绍.html-6903fbdf.js" as="script"><link rel="prefetch" href="/assets/2-PowerShell和WindowsTerminal.html-46115d00.js" as="script"><link rel="prefetch" href="/assets/3-环境变量及其设置.html-26b90d49.js" as="script"><link rel="prefetch" href="/assets/4-Windows下安装gcc编译器和CLion.html-912f8288.js" as="script"><link rel="prefetch" href="/assets/5-make和Makefile介绍.html-e67a8307.js" as="script"><link rel="prefetch" href="/assets/6-静态链接库和动态链接库.html-ded8764f.js" as="script"><link rel="prefetch" href="/assets/7-以SAM为例整体实操一下.html-f656a5a7.js" as="script"><link rel="prefetch" href="/assets/8-以CoolProp为例的实操.html-66a40f9a.js" as="script"><link rel="prefetch" href="/assets/9-dll生成与调用实操.html-352756c1.js" as="script"><link rel="prefetch" href="/assets/0010-julia的安装.html-97f5b279.js" as="script"><link rel="prefetch" href="/assets/0020-julia的REPL.html-f17d0407.js" as="script"><link rel="prefetch" href="/assets/0030-julia的语法要点.html-fd1b6c0f.js" as="script"><link rel="prefetch" href="/assets/0040-julia的包管理.html-09e0422c.js" as="script"><link rel="prefetch" href="/assets/0050-julia的环境.html-db66ea84.js" as="script"><link rel="prefetch" href="/assets/0060-创建julia包.html-be5762a4.js" as="script"><link rel="prefetch" href="/assets/0070-julia的类型系统.html-907d1647.js" as="script"><link rel="prefetch" href="/assets/0090-julia代码编译成app.html-2e893c47.js" as="script"><link rel="prefetch" href="/assets/0091-julia编译成library.html-c9391ec5.js" as="script"><link rel="prefetch" href="/assets/0092-julia编译自定义系统镜像.html-c85042b3.js" as="script"><link rel="prefetch" href="/assets/0110-julia的元编程.html-9ed60602.js" as="script"><link rel="prefetch" href="/assets/0120- julia-binary-wrappers.html-e8f72636.js" as="script"><link rel="prefetch" href="/assets/0130-ijulia.html-cb9f3219.js" as="script"><link rel="prefetch" href="/assets/1001-julia的http服务.html-1f10a403.js" as="script"><link rel="prefetch" href="/assets/1002-julia与grpc.html-ef750a5c.js" as="script"><link rel="prefetch" href="/assets/1003-julia的前后端分离.html-f01a6a64.js" as="script"><link rel="prefetch" href="/assets/1-过程抽象.html-181d4bd9.js" as="script"><link rel="prefetch" href="/assets/3-再说说递归.html-40cf85a1.js" as="script"><link rel="prefetch" href="/assets/4-从符号到模型.html-43dd701a.js" as="script"><link rel="prefetch" href="/assets/5-抽象语法树.html-cf8b8699.js" as="script"><link rel="prefetch" href="/assets/6-代码生成.html-30ed2ac8.js" as="script"><link rel="prefetch" href="/assets/7-领域特定语言.html-e5e286f4.js" as="script"><link rel="prefetch" href="/assets/8-写个库还是创个语言.html-fae676fe.js" as="script"><link rel="prefetch" href="/assets/9-Ascend等解构.html-9f21cba2.js" as="script"><link rel="prefetch" href="/assets/91-OpenFoam解构.html-29249435.js" as="script"><link rel="prefetch" href="/assets/DE_intro.html-5676a4a4.js" as="script"><link rel="prefetch" href="/assets/MTK_intro.html-a69bfd41.js" as="script"><link rel="prefetch" href="/assets/MTK_register.html-323dbdbe.js" as="script"><link rel="prefetch" href="/assets/MTK_tips.html-6b1ee152.js" as="script"><link rel="prefetch" href="/assets/ModelingTutorial.html-5b35e2c5.js" as="script"><link rel="prefetch" href="/assets/WathMTKdo.html-4f0fdab1.js" as="script"><link rel="prefetch" href="/assets/benchmark_de_mtk.html-cbe9fb23.js" as="script"><link rel="prefetch" href="/assets/1-微分代数方程.html-6d4c6777.js" as="script"><link rel="prefetch" href="/assets/DE_heattran.html-10d2ec61.js" as="script"><link rel="prefetch" href="/assets/MTK_Sundials.html-0913ea92.js" as="script"><link rel="prefetch" href="/assets/MTK_heattran.html-349c4338.js" as="script"><link rel="prefetch" href="/assets/MTK_parallel_computing.html-172c9a70.js" as="script"><link rel="prefetch" href="/assets/componementModel.html-1cef5b1f.js" as="script"><link rel="prefetch" href="/assets/steadyRC.html-21203b48.js" as="script"><link rel="prefetch" href="/assets/1-优化的概念.html-4965c522.js" as="script"><link rel="prefetch" href="/assets/2-优化问题的分类.html-cc69161a.js" as="script"><link rel="prefetch" href="/assets/3-能源系统工程中的优化问题.html-4fcb3f28.js" as="script"><link rel="prefetch" href="/assets/4-优化问题的求解过程.html-028aa276.js" as="script"><link rel="prefetch" href="/assets/5-优化问题的建模平台.html-7c0ea258.js" as="script"><link rel="prefetch" href="/assets/6-传统决定性算法简介.html-8e98203d.js" as="script"><link rel="prefetch" href="/assets/7-启发式算法简介.html-6a11fa2b.js" as="script"><link rel="prefetch" href="/assets/8-黑箱优化问题.html-b56ac11c.js" as="script"><link rel="prefetch" href="/assets/9-优化问题建模之递归建模方法.html-eba2feed.js" as="script"><link rel="prefetch" href="/assets/90-优化应用之参数估计与软测量.html-7aad488f.js" as="script"><link rel="prefetch" href="/assets/91-优化应用之代理模型.html-6ae9429d.js" as="script"><link rel="prefetch" href="/assets/92-一些可以看一看的优化相关工具.html-8bcea59d.js" as="script"><link rel="prefetch" href="/assets/93-JuMP混合整数线性优化实例.html-468027f6.js" as="script"><link rel="prefetch" href="/assets/94-JuMP参数辨识.html-a84c1e93.js" as="script"><link rel="prefetch" href="/assets/95-微分方程参数辨识实例.html-a4bc17ce.js" as="script"><link rel="prefetch" href="/assets/96-MTK非线性参数辨识实例.html-b9963985.js" as="script"><link rel="prefetch" href="/assets/97-MTK符号系统参数辨识实例.html-59206131.js" as="script"><link rel="prefetch" href="/assets/98-MTK部分参数辨识实例.html-bf5d481d.js" as="script"><link rel="prefetch" href="/assets/GenSBO.html-fb93b658.js" as="script"><link rel="prefetch" href="/assets/MIDACO.html-23cccc42.js" as="script"><link rel="prefetch" href="/assets/Optimization.jl.html-cb27106b.js" as="script"><link rel="prefetch" href="/assets/1-控制的本质.html-2947d28f.js" as="script"><link rel="prefetch" href="/assets/JuMPMPC.html-ce9c4cb8.js" as="script"><link rel="prefetch" href="/assets/KalmanFiltering.html-e0f02b0d.js" as="script"><link rel="prefetch" href="/assets/MTKMPC.html-0f0dce6d.js" as="script"><link rel="prefetch" href="/assets/OptimControl.html-b8ab380d.js" as="script"><link rel="prefetch" href="/assets/1-机器学习和人工智能.html-3ff2f2ef.js" as="script"><link rel="prefetch" href="/assets/1-能源管理信息系统.html-5ad6182f.js" as="script"><link rel="prefetch" href="/assets/1-物联网.html-9c51811f.js" as="script"><link rel="prefetch" href="/assets/2-消息件.html-9aea28ee.js" as="script"><link rel="prefetch" href="/assets/3-大数据简介.html-a80faa0a.js" as="script"><link rel="prefetch" href="/assets/4-从虚拟机到云计算.html-b733974d.js" as="script"><link rel="prefetch" href="/assets/5-容器化和k8s.html-d4109af5.js" as="script"><link rel="prefetch" href="/assets/01-golang的安装.html-7f0ada60.js" as="script"><link rel="prefetch" href="/assets/02-golang的特点.html-bb9ed62b.js" as="script"><link rel="prefetch" href="/assets/3-ssh-git实操.html-51d17155.js" as="script"><link rel="prefetch" href="/assets/CSV_jl_use.html-a609430e.js" as="script"><link rel="prefetch" href="/assets/CoolProp.html-5fa678ab.js" as="script"><link rel="prefetch" href="/assets/vscode_git.html-58f50bf0.js" as="script"><link rel="prefetch" href="/assets/1-thinkaboutstudy.html-d33c5a02.js" as="script"><link rel="prefetch" href="/assets/DocStructure.html-90e52b01.js" as="script"><link rel="prefetch" href="/assets/REPL-of-Julia.html-d6cfc3e2.js" as="script"><link rel="prefetch" href="/assets/gitworkflow.html-9fabaa43.js" as="script"><link rel="prefetch" href="/assets/julia_change_pkgserve.html-0d37d7fb.js" as="script"><link rel="prefetch" href="/assets/julia的安装.html-8c221738.js" as="script"><link rel="prefetch" href="/assets/vscodePlugin.html-3aca6d87.js" as="script"><link rel="prefetch" href="/assets/index.html-1d4ce9b2.js" as="script"><link rel="prefetch" href="/assets/disable.html-a871b7b1.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-e092c098.js" as="script"><link rel="prefetch" href="/assets/markdown.html-04587697.js" as="script"><link rel="prefetch" href="/assets/page.html-58557811.js" as="script"><link rel="prefetch" href="/assets/index.html-f23b0bb8.js" as="script"><link rel="prefetch" href="/assets/index.html-f1258b33.js" as="script"><link rel="prefetch" href="/assets/baz.html-2de4d1e8.js" as="script"><link rel="prefetch" href="/assets/index.html-20ba760c.js" as="script"><link rel="prefetch" href="/assets/ray.html-ae220f72.js" as="script"><link rel="prefetch" href="/assets/index.html-3d2f2ee2.js" as="script"><link rel="prefetch" href="/assets/baz.html-3677bd82.js" as="script"><link rel="prefetch" href="/assets/index.html-778ca1ea.js" as="script"><link rel="prefetch" href="/assets/ray.html-e251fb9a.js" as="script"><link rel="prefetch" href="/assets/404.html-c8a50422.js" as="script"><link rel="prefetch" href="/assets/index.html-829c9667.js" as="script"><link rel="prefetch" href="/assets/index.html-766c5857.js" as="script"><link rel="prefetch" href="/assets/index.html-8bc14139.js" as="script"><link rel="prefetch" href="/assets/index.html-d76ee502.js" as="script"><link rel="prefetch" href="/assets/index.html-c673b554.js" as="script"><link rel="prefetch" href="/assets/index.html-d21d4113.js" as="script"><link rel="prefetch" href="/assets/index.html-6502f7ba.js" as="script"><link rel="prefetch" href="/assets/index.html-59a9ab7a.js" as="script"><link rel="prefetch" href="/assets/index.html-cf7f1149.js" as="script"><link rel="prefetch" href="/assets/index.html-831f7dc7.js" as="script"><link rel="prefetch" href="/assets/index.html-a7a89bbb.js" as="script"><link rel="prefetch" href="/assets/index.html-e22ccefe.js" as="script"><link rel="prefetch" href="/assets/index.html-eafe0170.js" as="script"><link rel="prefetch" href="/assets/index.html-de64f6d1.js" as="script"><link rel="prefetch" href="/assets/index.html-686fa35c.js" as="script"><link rel="prefetch" href="/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-ee1cb918.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-9d5bc2ce.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-1a4c3ae7.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-eef4f647.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-1464cdb9.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt="Ai4Energy"><!----><span class="vp-site-name hide-in-pad">Ai4Energy</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="主页" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="课程" class="vp-link nav-link nav-link" href="/courses/"><span class="font-icon icon fa-fw fa-sm fas fa-chalkboard-user" style=""></span>课程<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="路线图" class="vp-link nav-link nav-link" href="/roadmap/"><span class="font-icon icon fa-fw fa-sm fas fa-chart-line" style=""></span>路线图<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Ai4E文档" class="vp-link nav-link active nav-link active" href="/docs/"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>Ai4E文档<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="组件库" class="vp-link nav-link nav-link" href="/ai4ecomplib/"><span class="font-icon icon fa-fw fa-sm fas fa-puzzle-piece" style=""></span>组件库<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="虚拟实验室" class="vp-link nav-link nav-link" href="/ai4elab/"><span class="font-icon icon fa-fw fa-sm fas fa-flask" style=""></span>虚拟实验室<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="碳中和开源汇编" class="vp-link nav-link nav-link" href="/awesome-carbon-neutrality/"><span class="font-icon icon fa-fw fa-sm fas fa-share-nodes" style=""></span>碳中和开源汇编<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="新闻" class="vp-link nav-link nav-link" href="/news/"><span class="font-icon icon fa-fw fa-sm fas fa-newspaper" style=""></span>新闻<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="赞助商专属" class="vp-link nav-link nav-link" href="/sponsors/"><span class="font-icon icon fa-fw fa-sm fas fa-trophy" style=""></span>赞助商专属<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="联系我们" class="vp-link nav-link nav-link" href="/contactus.html"><span class="font-icon icon fa-fw fa-sm fas fa-envelope" style=""></span>联系我们<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link nav-link" href="/en/"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link active nav-link active" href="/docs/03CSAdv/2-%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1.html"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/ai4energy/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Ai4EDocs" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/docs/"><span class="font-icon icon fa-fw fa-sm fas fa-file" style=""></span>Ai4EDocs<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span><a aria-label="不一样例" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/docs/demo/"><!---->不一样例<!----></a><!----></p><ul class="vp-sidebar-links"></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文档</span><!----></p><ul class="vp-sidebar-links"></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->数据抽象</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://ai4energy.cn" target="_blank" rel="noopener noreferrer">Ai4Energy</a></span><span property="author" content="Ai4Energy"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-10-05T10:59:45.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 30 分钟</span><meta property="timeRequired" content="PT30M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#数据抽象的概念">数据抽象的概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#sicp中的数据抽象的核心内容">sicp中的数据抽象的核心内容</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#有理数计算">有理数计算</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#以julia语言举例">以Julia语言举例</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#使用-julia-来实现有理数的加减乘除操作">使用 Julia 来实现有理数的加减乘除操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#如果不用julia内置的而是自己写一个">如果不用julia内置的而是自己写一个</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#能源系统建模">能源系统建模</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#初等数学符号求导">初等数学符号求导</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#有理数的结构体和操作">有理数的结构体和操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#类和面向对象">类和面向对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#用python和c-的oop写法">用python和c++的oop写法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#类型系统和多态性">类型系统和多态性</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#自动微分与符号求导">自动微分与符号求导</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="数据抽象" tabindex="-1"><a class="header-anchor" href="#数据抽象" aria-hidden="true">#</a> 数据抽象</h1><h2 id="数据抽象的概念" tabindex="-1"><a class="header-anchor" href="#数据抽象的概念" aria-hidden="true">#</a> 数据抽象的概念</h2><p>数据抽象是编程中非常重要的概念之一。它允许我们将复杂的数据结构和操作封装成高层次的抽象，使得程序的设计更加模块化、可维护和可扩展。通过数据抽象，我们可以隐藏数据的内部表示和实现细节，只向外部提供必要的接口和操作。</p><p>在编程中，数据抽象的核心思想是将数据和对数据的操作分离开来。这意味着我们可以定义一个数据类型（类或结构体），并为其定义一组相关的操作（方法或函数）。</p><h2 id="sicp中的数据抽象的核心内容" tabindex="-1"><a class="header-anchor" href="#sicp中的数据抽象的核心内容" aria-hidden="true">#</a> sicp中的数据抽象的核心内容</h2><p>在《计算机程序的构造和解释》（Structure and Interpretation of Computer Programs，简称SICP）中，数据抽象是一个核心概念，并且有几个重要的内容涉及到数据抽象：</p><ol><li><p>数据对象和数据类型：SICP强调将数据视为抽象对象，而不仅仅是简单的位序列。数据对象可以是任何具有共同特征的实体，例如数字、字符串、列表等。数据类型则是对数据对象的集合进行分类的方式。</p></li><li><p>数据表示和数据抽象屏障：数据的内部表示是指数据对象在计算机中的具体表示方式，而数据抽象屏障是一种限制，用于隐藏数据的内部表示细节，仅向外部提供必要的操作。这种分离使得我们可以改变数据的内部表示方式而不影响使用该数据的代码。</p></li><li><p>数据导向的程序设计：SICP鼓励将程序设计视为数据导向的过程。这意味着我们应该根据数据的特性和需求来设计程序，而不仅仅是关注算法和过程。通过合理地定义数据类型和操作，我们可以构建更具表现力和可复用性的程序。</p></li><li><p>抽象数据类型（ADT）：SICP中介绍了一种将数据抽象组织起来的方法，称为抽象数据类型。ADT提供了一种将数据表示和操作封装在一起的方式，以实现高层次的抽象。通过ADT，我们可以定义自己的数据类型，包括数据对象和相关的操作。</p></li><li><p>数据导向的程序设计方法：SICP介绍了一种基于消息传递的程序设计方法，其中消息是在不同数据对象之间传递的。这种方法强调将操作封装在数据对象内部，并通过发送消息来调用对象的方法。这种方式促进了模块化和可扩展性，并使得程序更容易理解和维护。</p></li></ol><p>这些是SICP中关于数据抽象的核心内容。通过理解和应用这些概念，可以提高程序设计的灵活性、可扩展性和可维护性。</p><p>但是我们这里不想讲那么多深奥的内容。我们可以就先讲讲有理数这样一个例子。</p><h2 id="有理数计算" tabindex="-1"><a class="header-anchor" href="#有理数计算" aria-hidden="true">#</a> 有理数计算</h2><p>我们可以通过一个简单的例子来说明数据抽象的概念。让我们以有理数（Rational Numbers）为例。</p><p>有理数是可以表示为两个整数的比例的数，比如1/2、3/4等。在编程中，我们可以通过一个数据类型来表示有理数，并定义相应的操作。</p><p>首先，我们可以定义一个有理数的数据类型，例如使用分子和分母来表示一个有理数：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Rational</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>numerator <span class="token operator">=</span> numerator
        self<span class="token punctuation">.</span>denominator <span class="token operator">=</span> denominator
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们使用分子和分母作为有理数对象的属性。</p><p>接下来，我们可以定义有理数的一些操作，比如加法和乘法。这些操作可以被定义为类的方法：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Rational</span><span class="token punctuation">:</span>
    <span class="token comment"># ... 省略 __init__ 方法</span>
    
    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 实现有理数的加法操作</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">+</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>numerator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> Rational<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">multiply</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 实现有理数的乘法操作</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>numerator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> Rational<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们定义了两个操作：<code>add</code>（加法）和<code>multiply</code>（乘法）。这些操作接受另一个有理数对象作为参数，并返回一个新的有理数对象作为结果。</p><p>通过这种方式，我们将有理数的内部表示和操作封装在了一个数据类型中，隐藏了具体的实现细节。外部的代码只需要知道如何使用这些操作，而不需要了解有理数的具体实现。</p><p>例如，我们可以使用定义的有理数类来执行一些操作：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 创建两个有理数对象</span>
rational1 <span class="token operator">=</span> Rational<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
rational2 <span class="token operator">=</span> Rational<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment"># 执行加法操作</span>
result1 <span class="token operator">=</span> rational1<span class="token punctuation">.</span>add<span class="token punctuation">(</span>rational2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result1<span class="token punctuation">.</span>numerator<span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> result1<span class="token punctuation">.</span>denominator<span class="token punctuation">)</span>  <span class="token comment"># 输出：10 / 8</span>

<span class="token comment"># 执行乘法操作</span>
result2 <span class="token operator">=</span> rational1<span class="token punctuation">.</span>multiply<span class="token punctuation">(</span>rational2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result2<span class="token punctuation">.</span>numerator<span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> result2<span class="token punctuation">.</span>denominator<span class="token punctuation">)</span>  <span class="token comment"># 输出：3 / 8</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过这个例子，我们展示了如何使用数据抽象来表示有理数，并定义了相应的操作。这种抽象使得我们可以直观地操作有理数，而不需要关心具体的实现细节。</p><h2 id="以julia语言举例" tabindex="-1"><a class="header-anchor" href="#以julia语言举例" aria-hidden="true">#</a> 以Julia语言举例</h2><p>我们也可以通过一个示例来说明数据抽象在 Julia 中的应用。</p><p>假设我们希望创建一个复数类型，可以表示实部和虚部。我们可以使用 Julia 的结构体（Struct）来定义这个数据类型，并定义一些操作。</p><p>首先，我们可以定义一个名为 <code>ComplexNumber</code> 的结构体：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> ComplexNumber
    real<span class="token punctuation">::</span>Float64
    imaginary<span class="token punctuation">::</span>Float64
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们使用 <code>real</code> 表示实部，<code>imaginary</code> 表示虚部。</p><p>接下来，我们可以定义一些操作，比如加法和乘法。这些操作可以通过函数来定义：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">function</span> add<span class="token punctuation">(</span>a<span class="token punctuation">::</span>ComplexNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>ComplexNumber<span class="token punctuation">)</span>
    real_part <span class="token operator">=</span> a<span class="token punctuation">.</span>real <span class="token operator">+</span> b<span class="token punctuation">.</span>real
    imaginary_part <span class="token operator">=</span> a<span class="token punctuation">.</span>imaginary <span class="token operator">+</span> b<span class="token punctuation">.</span>imaginary
    <span class="token keyword">return</span> ComplexNumber<span class="token punctuation">(</span>real_part<span class="token punctuation">,</span> imaginary_part<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> multiply<span class="token punctuation">(</span>a<span class="token punctuation">::</span>ComplexNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>ComplexNumber<span class="token punctuation">)</span>
    real_part <span class="token operator">=</span> a<span class="token punctuation">.</span>real <span class="token operator">*</span> b<span class="token punctuation">.</span>real <span class="token operator">-</span> a<span class="token punctuation">.</span>imaginary <span class="token operator">*</span> b<span class="token punctuation">.</span>imaginary
    imaginary_part <span class="token operator">=</span> a<span class="token punctuation">.</span>real <span class="token operator">*</span> b<span class="token punctuation">.</span>imaginary <span class="token operator">+</span> a<span class="token punctuation">.</span>imaginary <span class="token operator">*</span> b<span class="token punctuation">.</span>real
    <span class="token keyword">return</span> ComplexNumber<span class="token punctuation">(</span>real_part<span class="token punctuation">,</span> imaginary_part<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们定义了两个操作：<code>add</code>（加法）和<code>multiply</code>（乘法）。这些函数接受两个复数对象作为参数，并返回一个新的复数对象作为结果。</p><p>现在，我们可以使用定义的复数类型和操作来执行一些操作：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 创建两个复数对象</span>
complex1 <span class="token operator">=</span> ComplexNumber<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
complex2 <span class="token operator">=</span> ComplexNumber<span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">)</span>

<span class="token comment"># 执行加法操作</span>
result1 <span class="token operator">=</span> add<span class="token punctuation">(</span>complex1<span class="token punctuation">,</span> complex2<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>result1<span class="token punctuation">.</span>real<span class="token punctuation">,</span> <span class="token string">&quot; + &quot;</span><span class="token punctuation">,</span> result1<span class="token punctuation">.</span>imaginary<span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：4.0 + 6.0i</span>

<span class="token comment"># 执行乘法操作</span>
result2 <span class="token operator">=</span> multiply<span class="token punctuation">(</span>complex1<span class="token punctuation">,</span> complex2<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>result2<span class="token punctuation">.</span>real<span class="token punctuation">,</span> <span class="token string">&quot; + &quot;</span><span class="token punctuation">,</span> result2<span class="token punctuation">.</span>imaginary<span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：-5.0 + 10.0i</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过这个例子，我们展示了如何使用数据抽象来表示复数，并定义了相应的操作。这种抽象使得我们可以直观地操作复数，而不需要关心具体的实现细节。</p><h2 id="使用-julia-来实现有理数的加减乘除操作" tabindex="-1"><a class="header-anchor" href="#使用-julia-来实现有理数的加减乘除操作" aria-hidden="true">#</a> 使用 Julia 来实现有理数的加减乘除操作</h2><p>当然，我们可以使用 Julia 来实现有理数的加减乘除操作。</p><p>Julia 提供了 <code>Rational</code> 类型来表示有理数，并且内置了一些操作符来处理有理数的加减乘除。</p><p>首先，我们可以使用 <code>//</code> 运算符创建一个有理数：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code>a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">//</span> <span class="token number">2</span>
b <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">//</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，我们可以使用内置的操作符来执行加减乘除操作：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 加法</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5//4</span>

<span class="token comment"># 减法</span>
d <span class="token operator">=</span> a <span class="token operator">-</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>  <span class="token comment"># 输出：-1//4</span>

<span class="token comment"># 乘法</span>
e <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment"># 输出：3//8</span>

<span class="token comment"># 除法</span>
f <span class="token operator">=</span> a <span class="token operator">/</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>  <span class="token comment"># 输出：2//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们使用 <code>+</code>、<code>-</code>、<code>*</code>、<code>/</code> 这些操作符来执行有理数的加减乘除操作。Julia 会自动处理有理数的运算，并返回一个新的有理数作为结果。</p><p>通过使用内置的有理数类型和操作符，我们可以方便地进行有理数的加减乘除运算，而不需要手动定义自己的数据类型和操作。</p><h2 id="如果不用julia内置的而是自己写一个" tabindex="-1"><a class="header-anchor" href="#如果不用julia内置的而是自己写一个" aria-hidden="true">#</a> 如果不用julia内置的而是自己写一个</h2><p>让我们自己实现一个简单的有理数类型，并定义加减乘除的操作。</p><p>在 Julia 中，我们可以使用结构体来定义有理数类型，并在结构体中定义相应的操作函数。</p><p>首先，我们定义一个名为 <code>RationalNumber</code> 的结构体，包含 <code>numerator</code>（分子）和 <code>denominator</code>（分母）两个字段：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> RationalNumber
    numerator<span class="token punctuation">::</span>Int64
    denominator<span class="token punctuation">::</span>Int64
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，我们可以为结构体定义相应的操作函数，包括加法、减法、乘法和除法：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 加法操作</span>
<span class="token keyword">function</span> <span class="token operator">+</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">+</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> simplify<span class="token punctuation">(</span>RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 减法操作</span>
<span class="token keyword">function</span> <span class="token operator">-</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">-</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> simplify<span class="token punctuation">(</span>RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 乘法操作</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> simplify<span class="token punctuation">(</span>RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 除法操作</span>
<span class="token keyword">function</span> <span class="token operator">/</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
    <span class="token keyword">return</span> simplify<span class="token punctuation">(</span>RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们定义了 <code>+</code>、<code>-</code>、<code>*</code>、<code>/</code> 这些函数来执行有理数的加减乘除操作。我们还定义了一个 <code>simplify</code> 函数，用于简化有理数，即将分子和分母的公约数约简至最简形式。</p><p>最后，我们可以使用我们自己定义的有理数类型和操作来执行一些操作：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 创建两个有理数对象</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment"># 执行加法操作</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5//4</span>

<span class="token comment"># 执行减法操作</span>
d <span class="token operator">=</span> a <span class="token operator">-</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>  <span class="token comment"># 输出：-1//4</span>

<span class="token comment"># 执行乘法操作</span>
e <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment"># 输出：3//8</span>

<span class="token comment"># 执行除法操作</span>
f <span class="token operator">=</span> a <span class="token operator">/</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>  <span class="token comment"># 输出：2//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过这个例子，我们展示了如何使用自定义的有理数类型和操作函数来执行有理数的加减乘除运算。我们的实现可能较为简单，但它演示了如何通过自定义类型和函数来进行数据抽象和操作。</p><p>这里就定义了函数/和函数*等等，运算符就是函数，体现的淋漓尽致。</p><p>在很多编程语言中，运算符实际上是函数的语法糖，可以通过函数来定义运算符的行为。这种方式使得运算符看起来更加直观和易于理解。</p><p>在我们的例子中，我们使用了函数来定义有理数的加减乘除操作。在 Julia 中，运算符 <code>+</code>、<code>-</code>、<code>*</code>、<code>/</code> 实际上就是函数 <code>+</code>、<code>-</code>、<code>*</code>、<code>/</code> 的简化写法。通过定义这些函数，我们实际上定义了对应的运算符的行为。</p><p>这种将运算符作为函数来定义的方式体现了函数式编程的思想，它强调将操作看作是函数应用的过程，使得代码更加模块化、可组合和可扩展。通过将运算符定义为函数，我们可以更灵活地操作数据，并可以根据需要定义自己的运算符行为。</p><p>确实函数式编程的思想在数据抽象中扮演了重要的角色，使得代码更具表现力和可维护性。</p><h2 id="能源系统建模" tabindex="-1"><a class="header-anchor" href="#能源系统建模" aria-hidden="true">#</a> 能源系统建模</h2><p>在能源系统中，我们可以定义一个能源系统类型，它有变量列表，有参数列表，也有方程列表。两个能源系统连接在一起构成一个更大的能源系统。而这个连接，通常表现为方程。那我们也可以定义一种加法运算。能源系统1+能源系统2+连接，结果返回也是一个能源系统，它的变量表就是能源系统1的变量表和能源系统的变量表组织在一起，参数同样，而方程列表则是能源系统1的方程列表和能源系统2的方程列表，在还得算上连接的方程列表。</p><p>我可以通过一个简单的示例来展示如何使用 Julia 定义能源系统类型，并实现能源系统的加法运算。</p><p>首先，我们定义一个名为 <code>EnergySystem</code> 的结构体，包含变量列表、参数列表和方程列表：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> EnergySystem
    variables<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    parameters<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    equations<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Function<span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们使用 <code>variables</code> 表示变量列表，<code>parameters</code> 表示参数列表，<code>equations</code> 表示方程列表。变量和参数都以 <code>Symbol</code> 类型表示。</p><p>接下来，我们可以定义一个函数来执行能源系统的加法运算：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">function</span> <span class="token operator">+</span><span class="token punctuation">(</span>system1<span class="token punctuation">::</span>EnergySystem<span class="token punctuation">,</span> system2<span class="token punctuation">::</span>EnergySystem<span class="token punctuation">)</span>
    <span class="token comment"># 合并变量列表</span>
    variables <span class="token operator">=</span> union<span class="token punctuation">(</span>system1<span class="token punctuation">.</span>variables<span class="token punctuation">,</span> system2<span class="token punctuation">.</span>variables<span class="token punctuation">)</span>
    
    <span class="token comment"># 合并参数列表</span>
    parameters <span class="token operator">=</span> union<span class="token punctuation">(</span>system1<span class="token punctuation">.</span>parameters<span class="token punctuation">,</span> system2<span class="token punctuation">.</span>parameters<span class="token punctuation">)</span>
    
    <span class="token comment"># 合并方程列表</span>
    equations <span class="token operator">=</span> vcat<span class="token punctuation">(</span>system1<span class="token punctuation">.</span>equations<span class="token punctuation">,</span> system2<span class="token punctuation">.</span>equations<span class="token punctuation">)</span>
    
    <span class="token comment"># 返回新的能源系统</span>
    <span class="token keyword">return</span> EnergySystem<span class="token punctuation">(</span>variables<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> equations<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个函数中，我们使用 <code>union</code> 函数合并变量列表和参数列表，使用 <code>vcat</code> 函数合并方程列表，然后创建一个新的 <code>EnergySystem</code> 对象来存储合并后的变量、参数和方程。</p><p>现在，我们可以使用我们定义的能源系统类型和操作来执行一些操作：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 创建能源系统1</span>
system1 <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">:</span>var1<span class="token punctuation">,</span> <span class="token punctuation">:</span>var2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>param1<span class="token punctuation">,</span> <span class="token punctuation">:</span>param2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>eq1<span class="token punctuation">,</span> eq2<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 创建能源系统2</span>
system2 <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">:</span>var3<span class="token punctuation">,</span> <span class="token punctuation">:</span>var4<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>param3<span class="token punctuation">,</span> <span class="token punctuation">:</span>param4<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>eq3<span class="token punctuation">,</span> eq4<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 执行能源系统的加法操作</span>
result <span class="token operator">=</span> system1 <span class="token operator">+</span> system2

<span class="token comment"># 打印结果</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>variables<span class="token punctuation">)</span>  <span class="token comment"># 输出：[:var1, :var2, :var3, :var4]</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>parameters<span class="token punctuation">)</span>  <span class="token comment"># 输出：[:param1, :param2, :param3, :param4]</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>equations<span class="token punctuation">)</span>  <span class="token comment"># 输出：[eq1, eq2, eq3, eq4]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过这个例子，我们展示了如何使用自定义的能源系统类型和操作来执行能源系统的加法运算。我们的实现可能是一个简化的示例，实际应用中可能涉及更复杂的能源系统模型和方程。然而，这个例子说明了如何使用 Julia 中的自定义类型和函数来实现能源系统的抽象和操作。</p><p>我们可能需要连接类型，其本质是方程。</p><p>连接类型可以被抽象为方程，但在实际实现中可能会有更多的细节和复杂性。这个例子中我们简化了连接类型，将其看作是能源系统加法运算的一部分。</p><p>在能源系统中，连接可以表示不同能源系统之间的关系，例如能源传输、转换或交互。连接可以通过方程来描述，方程将连接的变量和参数联系起来，形成一个更大的能源系统。</p><p>在实际应用中，连接可能涉及到更多的模型和约束条件，需要根据具体情况进行建模和定义。这可能需要更多的设计和领域知识。</p><p>总之，通过定义能源系统类型和连接类型，并使用合适的方程描述它们之间的关系，我们可以建立一个更复杂的能源系统模型。这种抽象和建模方式可以帮助我们更好地理解和分析能源系统，以及进行系统级的优化和规划。</p><p>再用上递归，我们就可以从简单的能源系统，逐级的构建非常复杂的能源系统了。</p><p>使用递归可以方便地构建复杂的能源系统，通过逐级连接简单的能源系统来创建更大规模的能源系统。</p><p>让我们通过一个示例来说明递归构建能源系统的过程。</p><p>首先，我们定义一个能源系统的结构体 <code>EnergySystem</code>，包含变量列表、参数列表和方程列表，与之前的示例相同。</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> EnergySystem
    variables<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    parameters<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    equations<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Function<span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，我们定义一个递归函数 <code>buildEnergySystem</code>，用于构建能源系统。该函数接受一个整数 <code>n</code> 作为参数，表示能源系统的级别。</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">function</span> buildEnergySystem<span class="token punctuation">(</span>n<span class="token punctuation">::</span>Int<span class="token punctuation">)</span>
    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span>
        <span class="token comment"># 基础能源系统，例如单个发电机</span>
        variables <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>variable1<span class="token punctuation">]</span>
        parameters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>parameter1<span class="token punctuation">]</span>
        equations <span class="token operator">=</span> <span class="token punctuation">[</span>equation1<span class="token punctuation">]</span>
        <span class="token keyword">return</span> EnergySystem<span class="token punctuation">(</span>variables<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> equations<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token comment"># 构建更复杂的能源系统，递归连接</span>
        subsystem1 <span class="token operator">=</span> buildEnergySystem<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        subsystem2 <span class="token operator">=</span> buildEnergySystem<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        connection <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">:</span>connection_variable<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>connection_parameter<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>connection_equation<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> subsystem1 <span class="token operator">+</span> subsystem2 <span class="token operator">+</span> connection
    <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个函数中，我们使用条件判断来处理基础能源系统的情况，也就是级别为 1 的能源系统。对于级别大于 1 的能源系统，我们通过递归构建两个子系统，并添加一个连接系统。</p><p>最后，我们可以调用 <code>buildEnergySystem</code> 函数来构建一个复杂的能源系统：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code>complexSystem <span class="token operator">=</span> buildEnergySystem<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这将构建一个级别为 3 的复杂能源系统，它由多个能源子系统和连接组成。通过递归构建，我们可以灵活地扩展和组合简单的能源系统，从而构建出更大规模、更复杂的能源系统。</p><p>请注意，这只是一个简化的示例，实际的能源系统模型和连接可能涉及更多的变量、参数和方程。递归构建能源系统需要根据实际需求和领域知识进行设计和建模，以确保模型的准确性和合理性。</p><p>构建过程是从下到上。但是在获取大能源系统的变量表、参数表、方程表的时候，用到递归，递归下去推演出来。</p><p>如果你想要从底层的能源系统递归地推演出大能源系统的变量表、参数表和方程表，可以这样进行。</p><p>在这种情况下，我们可以修改 <code>EnergySystem</code> 结构体，使其包含一个能源子系统的列表，以及一个连接系统的列表。然后，我们可以编写一个递归函数 <code>flattenEnergySystem</code>，通过递归遍历能源子系统和连接系统，将其变量、参数和方程合并成一个大能源系统。</p><p>下面是一个示例代码：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> EnergySystem
    subsystems<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>EnergySystem<span class="token punctuation">}</span>
    connections<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>EnergySystem<span class="token punctuation">}</span>
    variables<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    parameters<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Symbol<span class="token punctuation">}</span>
    equations<span class="token punctuation">::</span>Vector<span class="token punctuation">{</span>Function<span class="token punctuation">}</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> flattenEnergySystem<span class="token punctuation">(</span>system<span class="token punctuation">::</span>EnergySystem<span class="token punctuation">)</span>
    variables <span class="token operator">=</span> system<span class="token punctuation">.</span>variables
    parameters <span class="token operator">=</span> system<span class="token punctuation">.</span>parameters
    equations <span class="token operator">=</span> system<span class="token punctuation">.</span>equations

    <span class="token keyword">for</span> subsystem <span class="token keyword">in</span> system<span class="token punctuation">.</span>subsystems
        subsystem_variables<span class="token punctuation">,</span> subsystem_parameters<span class="token punctuation">,</span> subsystem_equations <span class="token operator">=</span> flattenEnergySystem<span class="token punctuation">(</span>subsystem<span class="token punctuation">)</span>
        variables <span class="token operator">=</span> union<span class="token punctuation">(</span>variables<span class="token punctuation">,</span> subsystem_variables<span class="token punctuation">)</span>
        parameters <span class="token operator">=</span> union<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> subsystem_parameters<span class="token punctuation">)</span>
        equations <span class="token operator">=</span> vcat<span class="token punctuation">(</span>equations<span class="token punctuation">,</span> subsystem_equations<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token keyword">for</span> connection <span class="token keyword">in</span> system<span class="token punctuation">.</span>connections
        connection_variables<span class="token punctuation">,</span> connection_parameters<span class="token punctuation">,</span> connection_equations <span class="token operator">=</span> flattenEnergySystem<span class="token punctuation">(</span>connection<span class="token punctuation">)</span>
        variables <span class="token operator">=</span> union<span class="token punctuation">(</span>variables<span class="token punctuation">,</span> connection_variables<span class="token punctuation">)</span>
        parameters <span class="token operator">=</span> union<span class="token punctuation">(</span>parameters<span class="token punctuation">,</span> connection_parameters<span class="token punctuation">)</span>
        equations <span class="token operator">=</span> vcat<span class="token punctuation">(</span>equations<span class="token punctuation">,</span> connection_equations<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token keyword">return</span> variables<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> equations
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个代码中，<code>flattenEnergySystem</code> 函数递归地遍历能源子系统和连接系统。对于每个子系统和连接系统，它都调用 <code>flattenEnergySystem</code> 函数来获取其变量、参数和方程，并将其合并到当前大能源系统中。最后，函数返回整个大能源系统的变量表、参数表和方程表。</p><p>你可以使用以下代码示例来测试这个函数：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 创建能源系统1</span>
subsystem1 <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>var1<span class="token punctuation">,</span> <span class="token punctuation">:</span>var2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>param1<span class="token punctuation">,</span> <span class="token punctuation">:</span>param2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>eq1<span class="token punctuation">,</span> eq2<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 创建能源系统2</span>
subsystem2 <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>var3<span class="token punctuation">,</span> <span class="token punctuation">:</span>var4<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>param3<span class="token punctuation">,</span> <span class="token punctuation">:</span>param4<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>eq3<span class="token punctuation">,</span> eq4<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 创建连接系统</span>
connection <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>connection_variable<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">:</span>connection_parameter<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>connection_equation<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 构建大能源系统</span>
complexSystem <span class="token operator">=</span> EnergySystem<span class="token punctuation">(</span><span class="token punctuation">[</span>subsystem1<span class="token punctuation">,</span> subsystem2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>connection<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 获取大能源系统的变量表、参数表和方程表</span>
variables<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> equations <span class="token operator">=</span> flattenEnergySystem<span class="token punctuation">(</span>complexSystem<span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">println</span><span class="token punctuation">(</span><span class="token string">&quot;Variables: &quot;</span><span class="token punctuation">,</span> variables<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span><span class="token string">&quot;Parameters: &quot;</span><span class="token punctuation">,</span> parameters<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span><span class="token string">&quot;Equations: &quot;</span><span class="token punctuation">,</span> equations<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过递归的方式，我们可以从底层的能源系统开始，逐级地推演出大能源系统的变量表、参数表和方程表。请注意，这个示例代码仅用于演示基本思想，实际应用中可能需要根据具体情况进行适当的调整和扩展。</p><h2 id="初等数学符号求导" tabindex="-1"><a class="header-anchor" href="#初等数学符号求导" aria-hidden="true">#</a> 初等数学符号求导</h2><p>我们实际上可以再进一步演示一下数学上的初等函数及其符号求导。</p><p>在数学中，初等函数是指常见的基本函数，例如幂函数、指数函数、对数函数、三角函数等。对这些函数进行符号求导是求导的一种常见操作。</p><p>让我们以一些常见的初等函数为例，演示它们的符号求导过程。</p><ol><li><p>幂函数：<br> 对于幂函数 f(x) = x^n，其中 n 是常数，它的导数是 f&#39;(x) = n * x^(n-1)。</p></li><li><p>指数函数：<br> 对于指数函数 f(x) = a^x，其中 a 是常数且 a &gt; 0，它的导数是 f&#39;(x) = ln(a) * a^x。</p></li><li><p>对数函数：<br> 对于自然对数函数 f(x) = ln(x)，它的导数是 f&#39;(x) = 1 / x。</p></li><li><p>三角函数：<br> 对于正弦函数 f(x) = sin(x)，它的导数是 f&#39;(x) = cos(x)。<br> 对于余弦函数 f(x) = cos(x)，它的导数是 f&#39;(x) = -sin(x)。<br> 对于正切函数 f(x) = tan(x)，它的导数是 f&#39;(x) = sec^2(x)，其中 sec(x) 是 secant 函数。</p></li></ol><p>这些是一些常见初等函数的导数规则，可以根据这些规则对函数进行符号求导。</p><p>如果你有特定的初等函数需要求导，你可以提供函数表达式，我可以帮你进行求导操作。</p><p>首先是初等函数的求导，然后是复合函数的求导。就像sicp中的那样。</p><p>我们可以按照要求先演示初等函数的求导，然后再演示复合函数的求导，并使用 Julia 进行实现。</p><p>首先，我们来实现初等函数的求导。我们可以定义一个 <code>derivative</code> 函数，接受一个函数表达式和一个变量作为参数，然后计算该函数在给定变量处的导数。</p><p>下面是一个示例代码，实现了幂函数、指数函数、对数函数和三角函数的求导：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">using</span> SymPy

<span class="token comment"># 定义符号变量</span>
x <span class="token operator">=</span> symbols<span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 幂函数的求导</span>
<span class="token keyword">function</span> power_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    <span class="token keyword">return</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> n <span class="token operator">*</span> x<span class="token operator">^</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 指数函数的求导</span>
<span class="token keyword">function</span> exponential_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
    <span class="token keyword">return</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> log<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">*</span> a<span class="token operator">^</span>x
<span class="token keyword">end</span>

<span class="token comment"># 对数函数的求导</span>
<span class="token keyword">function</span> logarithm_derivative<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">return</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">/</span> x
<span class="token keyword">end</span>

<span class="token comment"># 三角函数的求导</span>
<span class="token keyword">function</span> trigonometric_derivative<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">return</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 示例：对函数 f(x) = x^2 求导</span>
f <span class="token operator">=</span> x<span class="token operator">^</span><span class="token number">2</span>
df <span class="token operator">=</span> power_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：2*x</span>

<span class="token comment"># 示例：对函数 f(x) = exp(x) 求导</span>
f <span class="token operator">=</span> exp<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
df <span class="token operator">=</span> exponential_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> MathConstants<span class="token punctuation">.</span>e<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：ℯ^x</span>

<span class="token comment"># 示例：对函数 f(x) = log(x) 求导</span>
f <span class="token operator">=</span> log<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
df <span class="token operator">=</span> logarithm_derivative<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：1/x</span>

<span class="token comment"># 示例：对函数 f(x) = sin(x) 求导</span>
f <span class="token operator">=</span> sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
df <span class="token operator">=</span> trigonometric_derivative<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：cos(x)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过使用 SymPy 库，我们可以定义符号变量 <code>x</code>，并使用 <code>diff</code> 函数对函数进行求导。我们定义了 <code>power_derivative</code>、<code>exponential_derivative</code>、<code>logarithm_derivative</code> 和 <code>trigonometric_derivative</code> 函数来分别计算幂函数、指数函数、对数函数和三角函数的导数。</p><p>我们提供了一些示例，对不同的函数进行求导并打印结果。</p><p>接下来，我们将演示复合函数的求导，即将多个函数组合起来，然后求导整个组合函数。</p><p>现在我们来演示复合函数的求导。</p><p>在数学中，复合函数是由多个函数组合而成的函数。要计算复合函数的导数，我们可以使用链式法则。链式法则指出，如果 y 是由函数 u 和 v 组合而成的函数，即 y = u(v(x))，那么 y 对 x 的导数可以通过 u 对 v 的导数乘以 v 对 x 的导数来计算。</p><p>下面是一个示例代码，实现了复合函数的求导：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">using</span> SymPy

<span class="token comment"># 定义符号变量</span>
x <span class="token operator">=</span> symbols<span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 复合函数的求导</span>
<span class="token keyword">function</span> composite_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
    <span class="token keyword">return</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> g<span class="token punctuation">)</span> <span class="token operator">*</span> diff<span class="token punctuation">(</span>g<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 示例：对函数 f(x) = (2x + 1)^3 求导</span>
f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">3</span>
g <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>x <span class="token operator">+</span> <span class="token number">1</span>
df <span class="token operator">=</span> composite_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：12(2x + 1)^2</span>

<span class="token comment"># 示例：对函数 f(x) = sin(2x) 求导</span>
f <span class="token operator">=</span> sin<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token punctuation">)</span>
g <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>x
df <span class="token operator">=</span> composite_derivative<span class="token punctuation">(</span>f<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment"># 输出：2cos(2x)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在示例中，我们定义了 <code>composite_derivative</code> 函数，它接受两个函数表达式作为参数，并计算它们的复合函数在给定变量处的导数。</p><p>我们提供了一些示例，对不同的复合函数进行求导并打印结果。</p><p>通过使用 SymPy 库的 <code>diff</code> 函数，我们可以方便地进行符号求导和复合函数的求导。</p><p>请注意，以上代码仅为演示目的，并可能无法处理所有复杂的函数表达式和求导情况。在实际应用中，根据具体函数表达式和求导规则，可能需要进行更复杂的推导和处理。</p><h2 id="有理数的结构体和操作" tabindex="-1"><a class="header-anchor" href="#有理数的结构体和操作" aria-hidden="true">#</a> 有理数的结构体和操作</h2><p>我们可以从有理数的数据抽象开始。有理数是可以表示为分子和分母的整数比例的数值类型。我们可以使用结构体来表示有理数，并定义相应的操作。</p><p>以下是一个用 Julia 实现有理数的例子：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">struct</span> RationalNumber
    numerator<span class="token punctuation">::</span>Int64
    denominator<span class="token punctuation">::</span>Int64
<span class="token keyword">end</span>

<span class="token comment"># 定义有理数的构造函数</span>
<span class="token keyword">function</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">::</span>Int64<span class="token punctuation">,</span> denominator<span class="token punctuation">::</span>Int64<span class="token punctuation">)</span>
    gcd_value <span class="token operator">=</span> gcd<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator <span class="token operator">÷</span> gcd_value<span class="token punctuation">,</span> denominator <span class="token operator">÷</span> gcd_value<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 有理数的加法运算</span>
<span class="token keyword">function</span> <span class="token operator">+</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">+</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 有理数的减法运算</span>
<span class="token keyword">function</span> <span class="token operator">-</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">-</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 有理数的乘法运算</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 有理数的除法运算</span>
<span class="token keyword">function</span> <span class="token operator">/</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 示例：使用有理数进行计算</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
d <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5//4</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>  <span class="token comment"># 输出：3//8</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们定义了一个名为 <code>RationalNumber</code> 的结构体，表示有理数。结构体中有 <code>numerator</code>（分子）和 <code>denominator</code>（分母）两个字段。</p><p>我们还定义了有理数的构造函数，用于创建 <code>RationalNumber</code> 类型的对象，并自动约简为最简形式。此外，我们还实现了有理数的加法、减法、乘法和除法运算，通过重载相应的操作符来实现。</p><p>通过这个例子，我们可以展示数据抽象的概念，并说明如何使用结构体和函数来实现有理数的抽象和操作。</p><p>接下来，我们可以进一步介绍类和面向对象编程的概念。如果你准备好了，我们可以继续。</p><h2 id="类和面向对象" tabindex="-1"><a class="header-anchor" href="#类和面向对象" aria-hidden="true">#</a> 类和面向对象</h2><p>在面向对象编程中，类是一种模板或蓝图，用于创建对象。对象是类的实例，它们包含属性（数据）和方法（操作）。类可以通过继承和多态性实现代码的组织和复用。</p><p>让我们通过一个示例来演示类和面向对象编程的概念。</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 定义一个有理数类</span>
<span class="token keyword">abstract</span> <span class="token keyword">type</span> AbstractRational <span class="token keyword">end</span>

<span class="token keyword">struct</span> RationalNumber <span class="token operator">&lt;:</span> AbstractRational
    numerator<span class="token punctuation">::</span>Int64
    denominator<span class="token punctuation">::</span>Int64

    <span class="token comment"># 构造函数</span>
    <span class="token keyword">function</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">::</span>Int64<span class="token punctuation">,</span> denominator<span class="token punctuation">::</span>Int64<span class="token punctuation">)</span>
        gcd_value <span class="token operator">=</span> gcd<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
        new<span class="token punctuation">(</span>numerator <span class="token operator">÷</span> gcd_value<span class="token punctuation">,</span> denominator <span class="token operator">÷</span> gcd_value<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token comment"># 加法运算方法</span>
    <span class="token keyword">function</span> <span class="token operator">+</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
        numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">+</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
        RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token comment"># 减法运算方法</span>
    <span class="token keyword">function</span> <span class="token operator">-</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
        numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">-</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
        RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token comment"># 乘法运算方法</span>
    <span class="token keyword">function</span> <span class="token operator">*</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
        numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
        denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
        RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    <span class="token keyword">end</span>

    <span class="token comment"># 除法运算方法</span>
    <span class="token keyword">function</span> <span class="token operator">/</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
        numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>numerator
        RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment"># 示例：使用有理数类进行计算</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
d <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5//4</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>  <span class="token comment"># 输出：3//8</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，我们定义了一个抽象类型 <code>AbstractRational</code>，它作为有理数类的基类。然后，我们定义了一个 <code>RationalNumber</code> 类，它扩展自 <code>AbstractRational</code>。</p><p>在 <code>RationalNumber</code> 类中，我们实现了构造函数和加法、减法、乘法和除法的方法。这些方法定义了对有理数对象进行操作的行为。</p><p>通过使用类和对象，我们可以更好地组织代码，将数据和操作封装在一起，并通过继承和多态性实现代码的复用和灵活性。</p><p>接下来，我们可以讨论类型系统和多态性的概念。如果你准备好了，我们可以继续下一步。</p><h2 id="用python和c-的oop写法" tabindex="-1"><a class="header-anchor" href="#用python和c-的oop写法" aria-hidden="true">#</a> 用python和c++的oop写法</h2><p>使用 Python 和 C++ 来重新演示之前的例子，采用面向对象编程的写法。</p><p>首先是 Python 的示例：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">RationalNumber</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">:</span>
        gcd_value <span class="token operator">=</span> self<span class="token punctuation">.</span>gcd<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>numerator <span class="token operator">=</span> numerator <span class="token operator">//</span> gcd_value
        self<span class="token punctuation">.</span>denominator <span class="token operator">=</span> denominator <span class="token operator">//</span> gcd_value

    <span class="token keyword">def</span> <span class="token function">gcd</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> b<span class="token punctuation">:</span>
            a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">%</span> b
        <span class="token keyword">return</span> a

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">+</span> other<span class="token punctuation">.</span>numerator <span class="token operator">*</span> self<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">-</span> other<span class="token punctuation">.</span>numerator <span class="token operator">*</span> self<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>numerator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__truediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>numerator
        <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>numerator<span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>denominator<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>

<span class="token comment"># 示例：使用有理数进行计算</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
d <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5/4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>  <span class="token comment"># 输出：3/8</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上是使用 Python 的面向对象编程写法实现的有理数类。我们定义了一个 <code>RationalNumber</code> 类，其中包括构造函数和加减乘除的方法。我们还重载了 <code>__str__</code> 方法，使得打印对象时能够以分数的形式显示。</p><p>接下来是 C++ 的示例：</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">RationalNumber</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> numerator<span class="token punctuation">;</span>
    <span class="token keyword">int</span> denominator<span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
            a <span class="token operator">=</span> b<span class="token punctuation">;</span>
            b <span class="token operator">=</span> temp <span class="token operator">%</span> b<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">RationalNumber</span><span class="token punctuation">(</span><span class="token keyword">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword">int</span> denominator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> gcd_value <span class="token operator">=</span> <span class="token function">gcd</span><span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-&gt;</span>numerator <span class="token operator">=</span> numerator <span class="token operator">/</span> gcd_value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator <span class="token operator">=</span> denominator <span class="token operator">/</span> gcd_value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    RationalNumber <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> RationalNumber<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numerator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">+</span> other<span class="token punctuation">.</span>numerator <span class="token operator">*</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator<span class="token punctuation">;</span>
        <span class="token keyword">int</span> denominator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">RationalNumber</span><span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    RationalNumber <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> RationalNumber<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numerator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">-</span> other<span class="token punctuation">.</span>numerator <span class="token operator">*</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator<span class="token punctuation">;</span>
        <span class="token keyword">int</span> denominator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">RationalNumber</span><span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    RationalNumber <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">const</span> RationalNumber<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numerator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>numerator<span class="token punctuation">;</span>
        <span class="token keyword">int</span> denominator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">RationalNumber</span><span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    RationalNumber <span class="token keyword">operator</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword">const</span> RationalNumber<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> numerator <span class="token operator">=</span> <span class="token keyword">this</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上是使用 C++ 的面向对象编程写法实现的有理数类。我们定义了一个 <code>RationalNumber</code> 类，其中包括构造函数和加减乘除的方法。我们通过重载运算符来实现对有理数对象的加减乘除操作。</p><p>这两个示例都展示了使用面向对象编程的方式来实现有理数的抽象和操作。无论是 Python 还是 C++，都可以通过类和对象来封装数据和操作，并提供统一的接口进行操作。</p><h2 id="类型系统和多态性" tabindex="-1"><a class="header-anchor" href="#类型系统和多态性" aria-hidden="true">#</a> 类型系统和多态性</h2><p>类型系统是编程语言中重要的概念之一，它定义了变量和表达式的类型，以及这些类型之间的关系和操作。多态性是类型系统的一个特性，它允许我们在不同的类型上执行相同的操作，以增加代码的灵活性和复用性。</p><p>首先，让我们来看一下 Julia 中的类型系统和多态性。</p><p>在 Julia 中，类型是非常灵活且动态的，它使用类型注解来指定变量和函数的类型，并且支持多态性。Julia 中的多态性可以通过参数多态性和函数重载来实现。</p><p>以下是一个示例代码，演示了 Julia 中的类型系统和多态性：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token comment"># 定义一个抽象类型 AbstractRational</span>
<span class="token keyword">abstract</span> <span class="token keyword">type</span> AbstractRational <span class="token keyword">end</span>

<span class="token comment"># 定义有理数类型 RationalNumber，并扩展自 AbstractRational</span>
<span class="token keyword">struct</span> RationalNumber<span class="token punctuation">{</span>T<span class="token operator">&lt;:</span>Integer<span class="token punctuation">}</span> <span class="token operator">&lt;:</span> AbstractRational
    numerator<span class="token punctuation">::</span>T
    denominator<span class="token punctuation">::</span>T

    <span class="token comment"># 构造函数</span>
    <span class="token keyword">function</span> RationalNumber<span class="token punctuation">{</span>T<span class="token punctuation">}</span><span class="token punctuation">(</span>numerator<span class="token punctuation">::</span>T<span class="token punctuation">,</span> denominator<span class="token punctuation">::</span>T<span class="token punctuation">)</span> where T<span class="token operator">&lt;:</span>Integer
        gcd_value <span class="token operator">=</span> gcd<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
        new<span class="token punctuation">(</span>T<span class="token punctuation">(</span>numerator <span class="token operator">÷</span> gcd_value<span class="token punctuation">)</span><span class="token punctuation">,</span> T<span class="token punctuation">(</span>denominator <span class="token operator">÷</span> gcd_value<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment"># 重载加法运算符</span>
<span class="token keyword">function</span> <span class="token operator">+</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">,</span> b<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    numerator <span class="token operator">=</span> a<span class="token punctuation">.</span>numerator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator <span class="token operator">+</span> b<span class="token punctuation">.</span>numerator <span class="token operator">*</span> a<span class="token punctuation">.</span>denominator
    denominator <span class="token operator">=</span> a<span class="token punctuation">.</span>denominator <span class="token operator">*</span> b<span class="token punctuation">.</span>denominator
    <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 重载打印函数</span>
<span class="token keyword">function</span> Base<span class="token punctuation">.</span>show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> r<span class="token punctuation">::</span>RationalNumber<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>io<span class="token punctuation">,</span> r<span class="token punctuation">.</span>numerator<span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>denominator<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token comment"># 示例：使用有理数进行计算</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5/4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，我们定义了一个抽象类型 <code>AbstractRational</code>，然后定义了一个有理数类型 <code>RationalNumber</code>，它扩展自 <code>AbstractRational</code>。在 <code>RationalNumber</code> 类型中，我们使用类型参数 <code>T</code> 来指定有理数的分子和分母的整数类型，并实现了构造函数和加法运算符的重载。</p><p>在 Julia 中，我们还重载了 <code>Base.show</code> 函数，用于打印有理数对象。</p><p>通过使用类型参数和多态性，我们可以在 Julia 中实现对不同整数类型的有理数进行操作，提高代码的灵活性。</p><p>接下来，让我们看一下 Python 中的类型系统和多态性。</p><p>在 Python 中，类型系统是动态和鸭子类型的，它允许我们在不显式声明类型的情况下，根据对象的行为进行操作。Python 中的多态性是通过鸭子类型和函数重载来实现的。</p><p>以下是一个示例</p><p>在 Python 中展示类型系统和多态性的示例：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AbstractRational</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">RationalNumber</span><span class="token punctuation">(</span>AbstractRational<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span><span class="token punctuation">:</span>
        gcd_value <span class="token operator">=</span> self<span class="token punctuation">.</span>gcd<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>numerator <span class="token operator">=</span> numerator <span class="token operator">//</span> gcd_value
        self<span class="token punctuation">.</span>denominator <span class="token operator">=</span> denominator <span class="token operator">//</span> gcd_value

    <span class="token keyword">def</span> <span class="token function">gcd</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> b<span class="token punctuation">:</span>
            a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">%</span> b
        <span class="token keyword">return</span> a

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">=</span> self<span class="token punctuation">.</span>numerator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator <span class="token operator">+</span> other<span class="token punctuation">.</span>numerator <span class="token operator">*</span> self<span class="token punctuation">.</span>denominator
        denominator <span class="token operator">=</span> self<span class="token punctuation">.</span>denominator <span class="token operator">*</span> other<span class="token punctuation">.</span>denominator
        <span class="token keyword">return</span> RationalNumber<span class="token punctuation">(</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>numerator<span class="token punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>denominator<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>

<span class="token comment"># 示例：使用有理数进行计算</span>
a <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> RationalNumber<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>  <span class="token comment"># 输出：5/4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，我们定义了一个抽象类 <code>AbstractRational</code>，然后定义了一个有理数类 <code>RationalNumber</code>，它继承自 <code>AbstractRational</code>。在 <code>RationalNumber</code> 类中，我们实现了构造函数和加法运算符的重载。</p><p>通过使用继承和函数重载，我们可以在 Python 中实现对有理数对象的操作，并在运行时根据对象的行为进行动态的多态性。</p><p>无论是在 Julia 还是在 Python，类型系统和多态性都是强大而灵活的工具，可以提高代码的可读性、灵活性和可维护性。</p><h2 id="自动微分与符号求导" tabindex="-1"><a class="header-anchor" href="#自动微分与符号求导" aria-hidden="true">#</a> 自动微分与符号求导</h2><p>在 Julia 中，你可以使用 SymPy.jl 库来进行符号求导。SymPy.jl 是一个与 Python 中的 SymPy 库相对应的库，它提供了符号计算的功能，包括符号求导。</p><p>下面是一个示例代码，演示了在 Julia 中使用 SymPy.jl 进行符号求导：</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">using</span> SymPy

<span class="token comment"># 定义符号变量</span>
x <span class="token operator">=</span> symbols<span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 定义函数 f(x) = x^2 + 2x + 1</span>
f <span class="token operator">=</span> x<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span>x <span class="token operator">+</span> <span class="token number">1</span>

<span class="token comment"># 求导</span>
f_prime <span class="token operator">=</span> diff<span class="token punctuation">(</span>f<span class="token punctuation">,</span> x<span class="token punctuation">)</span>

<span class="token comment"># 打印结果</span>
<span class="token keyword">println</span><span class="token punctuation">(</span>f_prime<span class="token punctuation">)</span>  <span class="token comment"># 输出：2*x + 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，我们首先使用 <code>symbols</code> 函数定义了一个符号变量 <code>x</code>。然后，我们定义了函数 <code>f</code>，它表示一个多项式函数。</p><p>使用 <code>diff</code> 函数，我们对函数 <code>f</code> 求导，并将结果赋给 <code>f_prime</code>。</p><p>最后，我们打印出求导结果 <code>f_prime</code>，它表示了函数 <code>f</code> 的导数。</p><p>通过使用 SymPy.jl，我们可以在 Julia 中进行符号计算和符号求导，从而实现符号级别的数学运算和分析。</p><p>以下是一个示例的 Julia 代码，实现了一个简单的符号求导器。从头开始实现最基本的符号求导，就像 Scheme 中那样。</p><div class="language-julia line-numbers-mode" data-ext="julia"><pre class="language-julia"><code><span class="token keyword">abstract</span> <span class="token keyword">type</span> Expr <span class="token keyword">end</span>

<span class="token keyword">struct</span> Number <span class="token operator">&lt;:</span> Expr
    value<span class="token punctuation">::</span>Float64
<span class="token keyword">end</span>

<span class="token keyword">struct</span> Variable <span class="token operator">&lt;:</span> Expr
    name<span class="token punctuation">::</span>Symbol
<span class="token keyword">end</span>

<span class="token keyword">struct</span> Plus <span class="token operator">&lt;:</span> Expr
    expr1<span class="token punctuation">::</span>Expr
    expr2<span class="token punctuation">::</span>Expr
<span class="token keyword">end</span>

<span class="token keyword">struct</span> Minus <span class="token operator">&lt;:</span> Expr
    expr1<span class="token punctuation">::</span>Expr
    expr2<span class="token punctuation">::</span>Expr
<span class="token keyword">end</span>

<span class="token keyword">struct</span> Times <span class="token operator">&lt;:</span> Expr
    expr1<span class="token punctuation">::</span>Expr
    expr2<span class="token punctuation">::</span>Expr
<span class="token keyword">end</span>

<span class="token keyword">struct</span> Divide <span class="token operator">&lt;:</span> Expr
    expr1<span class="token punctuation">::</span>Expr
    expr2<span class="token punctuation">::</span>Expr
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Number<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Number<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Variable<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">if</span> expr<span class="token punctuation">.</span>name <span class="token operator">==</span> var
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Plus<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Plus<span class="token punctuation">(</span>diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">,</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Minus<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Minus<span class="token punctuation">(</span>diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">,</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Times<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Plus<span class="token punctuation">(</span>Times<span class="token punctuation">(</span>diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">,</span> expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span><span class="token punctuation">,</span>
                Times<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Divide<span class="token punctuation">,</span> var<span class="token punctuation">::</span>Symbol<span class="token punctuation">)</span>
    <span class="token keyword">return</span> Divide<span class="token punctuation">(</span>Minus<span class="token punctuation">(</span>Times<span class="token punctuation">(</span>diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">,</span> expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        Times<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">,</span> diff<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  Times<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">,</span> expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Number<span class="token punctuation">)</span>
    <span class="token keyword">return</span> expr
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Variable<span class="token punctuation">)</span>
    <span class="token keyword">return</span> expr
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Plus<span class="token punctuation">)</span>
    expr1 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">)</span>
    expr2 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span>
    <span class="token keyword">if</span> expr1 isa Number <span class="token operator">&amp;&amp;</span> expr2 isa Number
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span>expr1<span class="token punctuation">.</span>value <span class="token operator">+</span> expr2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> Plus<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span> expr2<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Minus<span class="token punctuation">)</span>
    expr1 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">)</span>
    expr2 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span>
    <span class="token keyword">if</span> expr1 isa Number <span class="token operator">&amp;&amp;</span> expr2 isa Number
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span>expr1<span class="token punctuation">.</span>value <span class="token operator">-</span> expr2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> Minus<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span> expr2<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Times<span class="token punctuation">)</span>
    expr1 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">)</span>
    expr2 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span>
    <span class="token keyword">if</span> expr1 isa Number <span class="token operator">&amp;&amp;</span> expr2 isa Number
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span>expr1<span class="token punctuation">.</span>value <span class="token operator">*</span> expr2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> Times<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span> expr2<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Divide<span class="token punctuation">)</span>
    expr1 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">)</span>
    expr2 <span class="token operator">=</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span>
    <span class="token keyword">if</span> expr1 isa Number <span class="token operator">&amp;&amp;</span> expr2 isa Number
        <span class="token keyword">return</span> Number<span class="token punctuation">(</span>expr1<span class="token punctuation">.</span>value <span class="token operator">/</span> expr2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> Divide<span class="token punctuation">(</span>expr1<span class="token punctuation">,</span> expr2<span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> simplify<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Expr<span class="token punctuation">)</span>
    <span class="token keyword">return</span> expr
<span class="token keyword">end</span>

<span class="token keyword">function</span> show_expr<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Number<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>expr<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> show_expr<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Variable<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>expr<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> show_expr<span class="token punctuation">(</span>expr<span class="token punctuation">::</span>Plus<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;(&quot;</span><span class="token punctuation">)</span>
    show_expr<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr1<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot; + &quot;</span><span class="token punctuation">)</span>
    show_expr<span class="token punctuation">(</span>expr<span class="token punctuation">.</span>expr2<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上只是部分代码，展示一下就是这么干的。</p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: mingtao@xjtu.edu.cn">Mingtao Li</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><div><span><a href="https://beian.miit.gov.cn/" target="_blank">陕ICP备19000424号-2</a></span>|<span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61010302001034" target="_blank"><img src="/assets/image/beianicon.png">陕公网安备 61010302001034号</a></span></div></div><div class="vp-copyright">Copyright © 2023 Ai4Energy</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-92b2d6d2.js" defer></script>
  </body>
</html>
